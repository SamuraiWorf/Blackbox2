@using blackbox2_billiard

@fast

@if interactBlock
    @player &4The balls are still moving!
    @return
@fi

@var interactBlock = true

# cue
@var balls[0].position = Vector2(-5189.5D,-8608.5D)

# 9
@var balls[1].position = Vector2(-5189.5D,-8612.5D)

# 1
@var balls[2].position = Vector2(-5189.125D,-8613.25D)
# 2
@var balls[3].position = Vector2(-5189.875D,-8613.25D)

# 10
@var balls[4].position = Vector2(-5188.75D,-8614D)
# 8
@var balls[5].position = Vector2(-5189.5D,-8614D)
# 11
@var balls[6].position = Vector2(-5190.25D,-8614D)

# 3
@var balls[7].position = Vector2(-5188.375D,-8614.75D)
# 12
@var balls[8].position = Vector2(-5189.125D,-8614.75D)
# 4
@var balls[9].position = Vector2(-5189.875D,-8614.75D)
# 13
@var balls[10].position = Vector2(-5190.625D,-8614.75D)

# 5
@var balls[11].position = Vector2(-5188.0D,-8615.5D)
# 14
@var balls[12].position = Vector2(-5188.75D,-8615.5D)
# 6
@var balls[13].position = Vector2(-5189.5D,-8615.5D)
# 15
@var balls[14].position = Vector2(-5190.25D,-8615.5D)
# 7
@var balls[15].position = Vector2(-5191.0D,-8615.5D)

@bypass /teleport @e[name="blackbox2_billiard_cueBall"] -5189.5 63.8 -8608.5

@for Int i in list::range(0,16)
    @var balls[i].sunk = false
    @var balls[i].velocity = Vector2(0.0D,0.0D)
@done

@for Int i in list::range(1,16)
    @bypass /minecraft:kill @e[name="{{ballNames[i]}}"]
@done

@slow

@for Int i in list::range(1,16)
    @define Int offset = i*4
    @bypass /summon armor_stand {{balls[i].position.getX()}} 63.8 {{balls[i].position.getZ()}} {DisabledSlots:4144959,Invisible:1b,Silent:1b,Small:1b,Invulnerable:1b,NoGravity:1b,CustomName:'{"text":"{{ballNames[i]}}"}',ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b,tag:{SkullOwner:{Id:[I;{{ids[offset]}},{{ids[offset+1]}},{{ids[offset+2]}},{{ids[offset+3]}}],Properties:{textures:[{Value:"{{textures[i]}}"}]}}}}]}
@done

@delay 5

@var interactBlock = false

@player &l&4[!] &8Table reset!